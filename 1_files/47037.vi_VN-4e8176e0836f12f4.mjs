"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[47037],{53280:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});let n={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[s,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};n.hash="5a3162913508a33c37676bde5973ea45";let a=n;var l,i,s,o,c,d=n.default||n;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},647037:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(667294),a=r(883119),l=r(876594),i=r(400416),s=r(679482),o=r(788388),c=r(205906),d=r(810655),u=r(513272),h=r(597251),_=r(785893);function p({contextLogData:e,dominantColor:t,height:r,icon:p,id:g,images:y,isDarkRep:m=!1,isHovered:f,isSyop:x=!1,title:S,subtitle:v,onMouseEnter:b,onMouseLeave:w,onTap:E,searchBoxRenderStopwatch:P,showRemoveButton:I=!1,slotIndex:j,url:C,viewParameter:T,viewType:A,width:k,lines:N}){let L,O=(0,o.Z)({contextLogData:e,impressionType:"Article",loggingId:g,slotIndex:j,viewParameter:T,viewType:A}),{group:D,anyEnabled:B}=(0,u._$)({isSyop:x}),R=(0,h.wX)(),[Z,z]=(0,n.useState)(!1),U=Z||f,F=D.includes("vertical"),M=B&&!F&&!I&&y&&y.length>1,H=B&&!F&&!I&&!M,Y=B?.75:1,q=r||80,K=y&&y[0]&&(y[0]["236x"]?.url||y[0]["474x"]?.url)||"",W=!!p&&(0,c.Z)(p),G=!!k&&k<160||I&&!F&&!!r&&r<40,Q="300",$=B?void 0:"bold";I&&!F?L=1:k&&!(k>=200)||B?(L=2,G&&!B&&(Q="200")):L=3;let V=k?k-q:s.yF-80,J=G?3:4,X=G?2:3,ee=()=>{b?b():z(!0)},et=()=>{w?w():z(!1)},er=()=>{P?.stop()},en=async e=>{await (0,i.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),R()};function ea({children:e,height:t}){return(0,_.jsx)(a.xu,{ref:O,height:t||q,width:k||"100%",children:(0,_.jsx)(a.zd,{rounding:J,wash:!m,children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:B?void 0:{__style:m&&{backgroundColor:U?l.Pv2:l.pzk}||U&&d.A.lightHoverOverlay||{}},children:(0,_.jsx)(a.st,{active:U,children:(0,_.jsx)(a.Tg,{href:C,onBlur:et,onFocus:ee,onMouseEnter:ee,onMouseLeave:et,onTap:E,rounding:J,children:e})})})})})}if(M){let e=.65*(k||80),r=v?63:45;return(0,_.jsx)(ea,{height:e,children:(0,_.jsxs)(a.kC,{direction:"column",width:k||"100%",children:[(0,_.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[W&&(0,_.jsx)(a.xu,{marginEnd:-2,marginStart:4,children:(0,_.jsx)(a.JO,{accessibilityLabel:"",icon:W,inline:!0,size:12})}),(0,_.jsxs)(a.xu,{alignItems:"stretch",direction:"column",display:"flex",height:r,justifyContent:"start",paddingX:4,paddingY:3,children:[v&&(0,_.jsx)(a.xu,{marginBottom:1,children:(0,_.jsx)(a.xv,{align:"start",color:m?"light":void 0,dataTestId:"search-suggestion-text-subtitle",lineClamp:1,size:"100",children:v})}),(0,_.jsx)(a.xv,{align:"start",color:m?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:1,size:Q,weight:$,children:S})]})]}),(0,_.jsx)(a.xu,{"data-test-id":"search-suggestion-image-container",display:"flex",justifyContent:"between",children:y?.slice(0,3).map(n=>{let{url:l=""}=n["236x"]||{};return l&&(0,_.jsx)(a.xu,{height:e-r,width:`calc(${100/3}% - 2px)`,children:(0,_.jsx)(a.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:er,role:"presentation",src:l})},`${S}-${l}-${g}`)})})]})})}return H?(0,_.jsx)(ea,{children:(0,_.jsxs)(a.kC,{direction:"row",justifyContent:"between",children:[(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",marginEnd:-2,marginStart:2,maxHeight:q,maxWidth:V,paddingX:G?1:2,paddingY:G?2:4,children:(0,_.jsx)(a.xv,{color:m?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:N??L,size:Q,weight:$,children:S})}),(0,_.jsx)(a.xu,{height:q,overflow:"hidden",width:q,children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:"rotate(10deg)",left:G?4:8}},"data-test-id":"search-suggestion-image-container",marginTop:G?3:5,position:"relative",children:(0,_.jsx)(a.zd,{height:q,rounding:X,wash:!0,width:q*Y,children:(0,_.jsx)(a.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:Y,onLoad:er,role:"presentation",src:K})})})})]})}):F?(0,_.jsx)(ea,{children:(0,_.jsxs)(a.kC,{direction:"row",height:q,width:k||"100%",children:[(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",marginEnd:0,marginStart:4,children:(0,_.jsx)(a.JO,{accessibilityLabel:"",icon:W||I&&"history"||"search",inline:!0,size:18})}),(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",padding:G?2:4,children:(0,_.jsx)(a.xv,{color:m?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:L,size:Q,weight:$,children:S})}),(0,_.jsx)(a.kC,{alignItems:"center",flex:"none",height:q,justifyContent:"center",width:q*Y,children:I&&U?(0,_.jsx)(a.xu,{"data-test-id":"clear-recent-queries",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(a.hU,{accessibilityLabel:"Remove",bgColor:"white",focusColor:"darkBackground",icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),en(S)},padding:3,size:"sm"})}):(0,_.jsx)(a.xu,{"data-test-id":"search-suggestion-image-container",height:"100%",padding:1,width:"100%",children:(0,_.jsx)(a.zd,{height:"100%",rounding:X,wash:!0,width:"100%",children:(0,_.jsx)(a.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:Y,onLoad:er,role:"presentation",src:K})})})})]})}):(0,_.jsx)(ea,{children:(0,_.jsxs)(a.kC,{direction:"row",children:[(0,_.jsx)(a.xu,{"data-test-id":"search-suggestion-image-container",children:(0,_.jsx)(a.zd,{height:q,wash:!0,width:q*Y,children:(0,_.jsx)(a.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:Y,onLoad:er,role:"presentation",src:K})})}),(0,_.jsx)(a.xu,{alignItems:"center",display:"flex",maxHeight:q,maxWidth:I?void 0:V,padding:G?2:4,children:(0,_.jsx)(a.xv,{color:m?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:L,size:Q,weight:$,children:S})}),I&&(0,_.jsx)(a.xu,{"data-test-id":"clear-recent-queries",display:"flex",marginEnd:2,marginStart:-1,children:(0,_.jsx)(a.hU,{accessibilityLabel:"Remove",bgColor:"white",focusColor:"darkBackground",icon:"cancel",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),en(S)},padding:2,size:"sm"})})]})})}},970371:(e,t,r)=>{r.d(t,{Z:()=>S,b:()=>f});var n,a=r(667294),l=r(545007),i=r(422578),s=r(616550),o=r(883119),c=r(640498),d=r(282999),u=r(297728),h=r(730212),_=r(1006),p=r(623722),g=r(410150),y=r(887525);let m=void 0!==n?n:n=r(53280),f=(e,t)=>{let r={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,d.uM)(e)?(r.pageType="pin",r.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,d.am)(e)?(r.pageType="board",r.isEligiblePageTypeForDynamicSearchPlaceholder=!0):t&&(0,d.dr)(e)&&(r.pageType="klp",r.isEligiblePageTypeForDynamicSearchPlaceholder=!0),r},x=({fetchedSuggestedTerms:e,deviceType:t,pageType:r,dataType:n})=>{let a={deviceType:t,dataType:n,pageType:r};return e.length<3?((0,_.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",{termsCount:e.length,...a}),e=[]):(e=e.filter(e=>e.split(" ").length>1).map(e=>e.toLowerCase())).length<3&&((0,_.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",{termsCount:e.length,...a}),e=[]),e};function S(){let[e,t]=(0,a.useState)([]),r=(0,g.HG)(),n=(0,s.TH)(),S=(0,s.UO)(),v=(0,o.JZ)(),b=(0,p.Z)(n.pathname)||"",{isAuthenticated:w}=(0,h.B)(),E=(0,g.ZP)(),P=(0,d.uM)(n),I=(0,d.am)(n),j=(0,d.dr)(n),{locale:C}=(0,h.B)(),{checkExperiment:T}=(0,u.F)(),{pageType:A,isEligiblePageTypeForDynamicSearchPlaceholder:k}=f(n,!w&&r&&j&&C.startsWith("en")&&T("unauth_dweb_enable_klp_animated_search").anyEnabled),N=S.id||(0,c.Gt)(S.interest||""),L=!w&&k&&!v,O=(0,i.useRelayEnvironment)(),D=(0,l.v9)(e=>(0,y.Z)(e)[n.pathname]),B=(0,l.v9)(({topics:e})=>Object.keys(e).reduce((t,r)=>{let n=e[r];return t[n.slug]=n,t[r]=n,t},{})[N]),R=e=>e.reduce((e,t)=>t.name?[...e,t.name]:e,[]),Z=(0,a.useCallback)(()=>{(0,i.fetchQuery)(O,m,{pinId:b},{fetchPolicy:"store-or-network"}).subscribe({next:e=>{let r=[],n=e.v3GetPinQuery?.__typename==="V3GetPin"?e.v3GetPinQuery?.data:null;n?.isUnsafe?(0,_.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(n?.pinJoin?.visualAnnotation&&(r=n.pinJoin.visualAnnotation),r=x({fetchedSuggestedTerms:r,deviceType:E,pageType:A,dataType:"vase"})),t(r.slice(0,5))},error:e=>{(0,_.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[E,b,O,A]),z=(0,a.useCallback)(()=>{if(D?.seo_related_interests&&!D.owner?.is_partner){let e=R(D.seo_related_interests);t((e=x({fetchedSuggestedTerms:e,deviceType:E,pageType:A,dataType:"board_annotations"})).slice(0,5))}},[D,A,E]),U=(0,a.useCallback)(()=>{if(B?.seo_related_interests){let e=R(B.seo_related_interests);t((e=x({fetchedSuggestedTerms:e,deviceType:E,pageType:A,dataType:"klp_annotations"})).slice(0,5))}},[B,A,E]);return(0,a.useEffect)(()=>{!w&&L&&("desktop"!==E?t([]):(P&&Z(),I&&z(),j&&U()))},[D,P,I,j,L,w,E,Z,z,U]),(0,a.useEffect)(()=>{P||I||j||0===e.length||t([])},[P,e.length,I,j]),e}},663641:(e,t,r)=>{r.d(t,{Hd:()=>c,_R:()=>s,gi:()=>l,lw:()=>n,oD:()=>a,wF:()=>o,zh:()=>i});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},a=e=>Object.values(n).find(t=>t===e)??void 0,l=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},i=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},s=e=>{switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.SHOP_TOOL:return 3380;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},o=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},c=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},573372:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(713211),a=r(937304);function l({bubbleId:e,pinId:t,query:r,referringSource:l,storyCategory:i,storyId:s,title:o}){let c=[0,24,21,26].includes(i),d=(0,a.Z)({q:r,rs:l||void 0,b_id:e,source_id:s,top_pin_id:t}),u=c&&o?(0,n.x)({title:o,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:`/search/pins/${d?"?"+d:""}`}},851680:(e,t,r)=>{r.d(t,{Z:()=>n});function n(e){return(e||"").trim().replace(/\s+/g," ")}},810655:(e,t,r)=>{r.d(t,{A:()=>i,Z:()=>s});var n=r(667294),a=r(883119),l=r(785893);let i={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:r,disableTabIndex:s,height:o,id:c,isHovered:d,onClick:u,onMouseDown:h,onMouseEnter:_,onMouseLeave:p,searchBoxRenderStopwatch:g,url:y,width:m}){let[f,x]=(0,n.useState)(!1),S=()=>{_?_():x(!0)},v=()=>{p?p():x(!1)},b=d||f,w=b?i.hoverOverlay:i.bubbleOverlay;return(0,l.jsx)(a.Tg,{href:y,onBlur:v,onFocus:S,onMouseDown:h,onMouseEnter:S,onMouseLeave:v,onTap:()=>{u?.(c)},rounding:4,tabIndex:s?-1:void 0,children:(0,l.jsx)(a.zd,{height:o,rounding:4,width:m||"100%",children:r?.url?(0,l.jsxs)(a.Ee,{alt:"",color:e,fit:"cover",naturalHeight:r.height??1,naturalWidth:r.width??1,onLoad:()=>{g?.stop()},role:"presentation",src:r.url,children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:w},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:b}):t]}):(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},513272:(e,t,r)=>{r.d(t,{Cx:()=>w,Ek:()=>x,Gp:()=>v,PN:()=>C,VE:()=>E,WY:()=>P,YO:()=>k,_$:()=>I,cW:()=>b,hb:()=>A,sy:()=>j,yQ:()=>S,zj:()=>T});var n=r(616550),a=r(713211),l=r(144326),i=r(297728),s=r(730212),o=r(961754),c=r(970371),d=r(573372),u=r(851680),h=r(663641),_=r(720398),p=r(976534),g=r(969119),y=r(383399),m=r(151905),f=r(267893);function x({suggestion:e,query:t,lastFocusTime:r=0,filterSelectedTerm:n,suggestionStoryId:l}){if("explorearticle"===e.type){let{aux_fields:t,id:r,query:n,story_category:a}=e;return e.action?.url??(0,d.Z)({bubbleId:r,pinId:t?.image_pin_id,query:n,referringSource:2===a?"trending":"autocomplete_bubble",storyCategory:a,storyId:l})}if("todayarticle"===e.type){let{id:t,title:r}=e;return(0,a.x)({title:r,id:t,articleType:"today"})}let i={eq:(0,u.Z)(t)};return r&&(i.etslf=String(Date.now()-r)),n&&(i.filters=n),(0,_.Z)("url"in e?e.url:"",i)}function S({enteredQuery:e,suggestion:t,index:r,additionalAuxData:n={}}){let a={...n,entered_query:e||void 0,selected_query:t.query||t.label||void 0};switch(t.type){case"board":case"user":case"inclusive_product_filter_query":case"recent_query":case"query":return{autocomplete_type:"inclusive_product_filter_query"===t.type?"query":t.type,result_index:r,user_id:"user"===t.type?t.id:void 0,ac_suggestion_id:t.id,...a};case"explorearticle":return 26===t.story_category?{article_id:t.id,autocomplete_type:"recommended_article",story_id:t.storyId,story_type:"shopping_spotlight",...a}:{autocomplete_type:2===t.story_category?"trending":"recommended",result_index:r,...a};case"todayarticle":return{article_id:t.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...a};default:return{}}}function v(e,t){return`SuggestionGroup-Option-${e}-${t}`}let b=(e,t)=>{let r=0;return e.map(e=>{let n=r;return r+=((e.items??[]).length??0)+ +!!t,n})},w=(e,t)=>{if(null==t)return;let r=((e.find(e=>"blended_autocomplete"===e.type)??[])||[]).items.some(e=>e&&e.modifiedFilterEligibility),n=b(e,r),a=+!!r;for(let r=0;r<n.length;r+=1)if(e[r].items.length&&t-n[r]<e[r].items.length+a)return e[r].items[t-n[r]-a];return null};function E(e,t,r){let n=e.map(e=>e.items.length??0).reduce((e,t)=>e+t,0),a=r?null==t?0:t===n-1?void 0:t+1:null==t?n-1:0===t?void 0:t-1,l=w(e,a);return[a,l]}function P(){let e=(0,n.TH)(),t=(0,y.Z)(),{ideas_referrer:r,view_parameter_type:a}=(0,p.Z)(e.search);r=parseInt(r,10),a=parseInt(a,10);let l=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),i=t.isAuth&&e.pathname.startsWith("/recently-viewed"),s=3173===a&&(1===r||25===r);return(l||i)&&!s}function I({isSyop:e}){let{checkExperiment:t}=(0,i.F)();return e?{anyEnabled:!1,group:""}:t("web_search_autocomplete_empty_state")}function j({setShouldHideGhostText:e,setSuggestionsMaxHeight:t,isSyop:r}){let n=I({isSyop:r}).anyEnabled;function a(){let r=document.getElementById(m.v6)?.offsetWidth||0,a=n?window.innerHeight/4:0;e(r<=m.le),t(window.innerHeight-14-m.Fj-a)}(0,g.Z)(()=>(window.addEventListener("resize",a),a(),()=>{window.removeEventListener("resize",a)}))}function C({shouldHideGhostText:e,isSyop:t,inputFocused:r,voiceSearchPlaceholder:n}){let a=(0,l.ZP)(),{isAuth:i}=(0,y.Z)(),s=(0,o.Z)(i?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),d=i?a.bt("Tìm kiếm", "Search", "searchBox.placeholder.defaultText", undefined, true):a.bt("Tìm kiếm cách nấu món ăn, hay mẹo về thời trang, v.v.", "Search for easy dinners, fashion, etc.", " - ", undefined, true),u="";if(n)d=n===f.K.LISTENING?a.bt("Đang nghe...", "Listening...", "searchBox.placeholder.search", undefined, true):a.bt("Không hiểu lắm! Hãy thử lại", "Didn't get that! Try again", "searchBox.placeholder.search", undefined, true);else if(!e&&s.isLoaded&&s.data&&s.data.length>0){let e=s.data[0].text;u=s.data[0].query,d=e}return t&&(d=r?a.bt("Hãy thử một tiêu đề hoặc mô tả", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):a.bt("Tìm kiếm Ghim của bạn", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[d,u,(0,c.Z)()]}function T({suggestionsFocusIndex:e,suggestionGroups:t}){let r,n,a=b(t);if("number"==typeof e){for(let t=a.length-1;t>=0;t-=1)if(e>=a[t]){r=t,n=e-a[t];break}}return"number"==typeof r&&"number"==typeof n?v(r,n):""}function A(){let e=(0,y.Z)(),{isBot:t}=(0,s.B)(),{isAuth:r,isLimitedLogin:n}=e;(0,o.Z)(r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:h.lw.PINS},noCache:!0}:null),(0,o.Z)(t?null:{name:"SearchTabResource"}),(0,o.Z)(r&&!n?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:m.a3.join(","),pin_preview_count:m.sA}}}:null)}function k({pillLabels:e,maxWidth:t}){let r=e.length;if(!t)return r;let n=0;for(let a=0;a<e.length;a+=1){let l=e[a].length*m.yY+m.Ag+m.Ub;if(l+n<t)n+=l;else{r=a;break}}return r}},597251:(e,t,r)=>{r.d(t,{Xv:()=>g,ch:()=>p,wX:()=>_});var n=r(667294),a=r(545007),l=r(740227),i=r(297728),s=r(468808),o=r(961754),c=r(961414),d=r(663641),u=r(383399),h=r(151905);let _=()=>{let e=(0,a.I0)();return(0,n.useMemo)(()=>()=>{e((0,s.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},[e])};function p({query:e,scope:t}){let r=(0,u.Z)(),{checkExperiment:a}=(0,i.F)(),s=(0,c.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});return e&&a("dweb_search_autocomplete_header_icon_exp"),(0,n.useMemo)(()=>{if(r.isAuth)return[{items:s||[],type:"blended_autocomplete"}];let e=(0,l.Z)(s||[],e=>e.type);return[{items:["query","user"].flatMap(t=>e[t]).filter(e=>!!e),type:"blended_autocomplete"}]},[s,r])}function g(e){let t=(0,u.Z)(),{prototypeSLP:r}=e||{},{isLoaded:a,data:l}=(0,o.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:d.lw.PINS},noCache:!0}:null);return(0,n.useMemo)(()=>{let e=[];return a&&l&&(e=r?l.items.map(e=>({...e,items:e.objects.map(e=>{switch(e.type){case void 0:let{image:t,name:r,url:n,id:a}=e;return{...e,cover_images:[t],title:{format:r},action:{url:n},type:"explorearticle",id:a.toString()};case"recent_pin_searches":let{image_preview_pins:l,query:i,link:s}=e;return{...e,cover_images:l.map(e=>({"236x":{url:e.image_medium_url}})),title:{format:i},action:{url:s},type:"explorearticle"};default:return e}})})):function({newRecentQueries:e}){return e.filter(({type:e})=>"recent_query"===e).slice(0,h.P$).map(({label:e,query:t,url:r,type:n,id:a},l)=>({label:e,query:t,resultIndex:l,type:n,url:r,id:a}))}({newRecentQueries:l.items})),e},[a,r,l])}},267893:(e,t,r)=>{r.d(t,{K:()=>n});let n={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},887525:(e,t,r)=>{r.d(t,{Z:()=>n});let n=(0,r(442279).P1)(e=>e.boards,e=>Object.keys(e).reduce((t,r)=>{let n=e[r];t[n.url??""]=n;let{oldSlugUrl:a}=n;return a&&(t[a]=n),t},{}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47037.vi_VN-4e8176e0836f12f4.mjs.map